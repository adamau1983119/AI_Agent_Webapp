# ç’°å¢ƒè®Šæ•¸æª¢æŸ¥æ¸…å–®

## ğŸ¯ ç›®çš„
ç¢ºä¿å‰ç«¯å’Œå¾Œç«¯éƒ½ä½¿ç”¨çœŸå¯¦ APIï¼Œè€Œä¸æ˜¯ mock æ•¸æ“šã€‚

---

## ğŸ“‹ å‰ç«¯ç’°å¢ƒè®Šæ•¸ï¼ˆVercelï¼‰

### å¿…é ˆè¨­å®š

1. **VITE_USE_MOCK**
   - **å€¼**: `false`
   - **èªªæ˜**: ç¦ç”¨ mock æ•¸æ“šï¼Œä½¿ç”¨çœŸå¯¦ API
   - **æª¢æŸ¥ä½ç½®**: Vercel Dashboard â†’ Settings â†’ Environment Variables

2. **VITE_API_URL**
   - **å€¼**: `https://your-backend-domain.railway.app/api/v1`
   - **èªªæ˜**: å¾Œç«¯ API åŸºç¤ URL
   - **æª¢æŸ¥ä½ç½®**: Vercel Dashboard â†’ Settings â†’ Environment Variables

### è¨­å®šæ­¥é©Ÿ

1. è¨ªå•ï¼šhttps://vercel.com/dashboard
2. é¸æ“‡å°ˆæ¡ˆï¼š`ai-agent-webapp`
3. é»æ“Š "Settings" â†’ "Environment Variables"
4. æª¢æŸ¥æˆ–æ·»åŠ ï¼š
   ```
   VITE_USE_MOCK = false
   VITE_API_URL = https://your-backend-domain.railway.app/api/v1
   ```
5. ä¿å­˜å¾Œï¼ŒVercel æœƒè‡ªå‹•é‡æ–°éƒ¨ç½²

---

## ğŸ“‹ å¾Œç«¯ç’°å¢ƒè®Šæ•¸ï¼ˆRailwayï¼‰

### å¿…é ˆè¨­å®š

1. **ENVIRONMENT**
   - **å€¼**: `production`
   - **èªªæ˜**: è¨­å®šç‚ºç”Ÿç”¢ç’°å¢ƒï¼Œè‡ªå‹•å•Ÿå‹•æ’ç¨‹æœå‹™
   - **æª¢æŸ¥ä½ç½®**: Railway Dashboard â†’ Variables

2. **AUTO_START_SCHEDULER**ï¼ˆå¯é¸ä½†å»ºè­°ï¼‰
   - **å€¼**: `true`
   - **èªªæ˜**: æ˜ç¢ºå•Ÿç”¨è‡ªå‹•å•Ÿå‹•æ’ç¨‹æœå‹™
   - **æª¢æŸ¥ä½ç½®**: Railway Dashboard â†’ Variables

3. **MONGODB_URL**
   - **å€¼**: MongoDB é€£æ¥å­—ä¸²
   - **èªªæ˜**: è³‡æ–™åº«é€£æ¥
   - **æª¢æŸ¥ä½ç½®**: Railway Dashboard â†’ Variables

4. **CORS_ORIGINS**
   - **å€¼**: `https://ai-agent-webapp-ten.vercel.app,http://localhost:5173`
   - **èªªæ˜**: å…è¨±çš„å‰ç«¯ç¶²åŸŸ
   - **æª¢æŸ¥ä½ç½®**: Railway Dashboard â†’ Variables

### è¨­å®šæ­¥é©Ÿ

1. è¨ªå•ï¼šhttps://railway.app/dashboard
2. é¸æ“‡å°ˆæ¡ˆï¼š`AI_Agent_Webapp`
3. é»æ“Šæœå‹™ï¼š`backend`
4. é»æ“Š "Variables" æ¨™ç±¤
5. æª¢æŸ¥æˆ–æ·»åŠ ï¼š
   ```
   ENVIRONMENT = production
   AUTO_START_SCHEDULER = true
   MONGODB_URL = your-mongodb-connection-string
   CORS_ORIGINS = https://ai-agent-webapp-ten.vercel.app,http://localhost:5173
   ```
6. ä¿å­˜å¾Œï¼ŒRailway æœƒè‡ªå‹•é‡æ–°éƒ¨ç½²

---

## âœ… é©—è­‰æ­¥é©Ÿ

### 1. æª¢æŸ¥å‰ç«¯æ˜¯å¦ä½¿ç”¨çœŸå¯¦ API

**æ–¹æ³• 1: æª¢æŸ¥ç€è¦½å™¨ Console**
1. æ‰“é–‹å‰ç«¯ç¶²ç«™
2. æŒ‰ F12 æ‰“é–‹é–‹ç™¼è€…å·¥å…·
3. é»æ“Š "Console" æ¨™ç±¤
4. æŸ¥çœ‹æ˜¯å¦æœ‰ API è«‹æ±‚
5. é»æ“Š "Network" æ¨™ç±¤
6. æŸ¥çœ‹ API è«‹æ±‚æ˜¯å¦æŒ‡å‘çœŸå¯¦å¾Œç«¯ç¶²åŸŸ

**æ–¹æ³• 2: æª¢æŸ¥ç’°å¢ƒè®Šæ•¸**
1. åœ¨ç€è¦½å™¨ Console è¼¸å…¥ï¼š
   ```javascript
   console.log(import.meta.env.VITE_USE_MOCK)
   console.log(import.meta.env.VITE_API_URL)
   ```
2. æ‡‰è©²é¡¯ç¤ºï¼š
   ```
   false
   https://your-backend-domain.railway.app/api/v1
   ```

---

### 2. æª¢æŸ¥å¾Œç«¯æ’ç¨‹æœå‹™

**æ–¹æ³• 1: æª¢æŸ¥å¾Œç«¯æ—¥èªŒ**
1. è¨ªå• Railway Dashboard
2. é»æ“Šæœå‹™ï¼š`backend`
3. é»æ“Š "Deployments" æ¨™ç±¤
4. æŸ¥çœ‹æ—¥èªŒï¼Œæ‡‰è©²çœ‹åˆ°ï¼š
   ```
   âœ… æ’ç¨‹æœå‹™å·²å•Ÿå‹•ï¼ˆç”Ÿç”¢ç’°å¢ƒï¼‰
   âœ… æ’ç¨‹ç›£æ§æœå‹™å·²å•Ÿå‹•
   ```

**æ–¹æ³• 2: æª¢æŸ¥ API ç‹€æ…‹**
```bash
curl https://your-backend-domain.railway.app/api/v1/schedules/status
```

æ‡‰è©²è¿”å›ï¼š
```json
{
  "is_running": true,
  "jobs": [...]
}
```

---

### 3. æª¢æŸ¥æ•¸æ“šæ˜¯å¦çœŸå¯¦ç”Ÿæˆ

**æ–¹æ³• 1: æª¢æŸ¥è³‡æ–™åº«**
1. è¨ªå• MongoDB Atlas
2. æŸ¥çœ‹ `topics` é›†åˆ
3. ç¢ºèªæœ‰ä»Šæ—¥ç”Ÿæˆçš„ä¸»é¡Œ
4. ç¢ºèªä¸»é¡Œæœ‰ `content` å’Œ `images`

**æ–¹æ³• 2: ä½¿ç”¨ API æŸ¥è©¢**
```bash
curl https://your-backend-domain.railway.app/api/v1/topics?date=2025-12-30
```

æ‡‰è©²è¿”å›çœŸå¯¦çš„ä¸»é¡Œæ•¸æ“šï¼Œä¸æ˜¯ mock æ•¸æ“šã€‚

---

## ğŸš¨ å¸¸è¦‹å•é¡Œ

### å•é¡Œ 1: å‰ç«¯ä»é¡¯ç¤º mock æ•¸æ“š

**åŸå› **ï¼š
- `VITE_USE_MOCK=true` æˆ–æœªè¨­å®š
- API è«‹æ±‚å¤±æ•—ï¼Œfallback åˆ° mock æ•¸æ“š

**è§£æ±º**ï¼š
1. ç¢ºèª `VITE_USE_MOCK=false`
2. ç¢ºèª `VITE_API_URL` æ­£ç¢º
3. æª¢æŸ¥å¾Œç«¯æœå‹™æ˜¯å¦é‹è¡Œ
4. æª¢æŸ¥ CORS è¨­å®š

---

### å•é¡Œ 2: æ’ç¨‹æœå‹™æœªå•Ÿå‹•

**åŸå› **ï¼š
- `ENVIRONMENT` ä¸æ˜¯ `production`
- `AUTO_START_SCHEDULER` æœªè¨­å®š

**è§£æ±º**ï¼š
1. è¨­å®š `ENVIRONMENT=production`
2. è¨­å®š `AUTO_START_SCHEDULER=true`
3. æˆ–æ‰‹å‹•èª¿ç”¨ `POST /api/v1/schedules/start`

---

### å•é¡Œ 3: ä¸»é¡Œå·²ç”Ÿæˆä½†æ²’æœ‰å…§å®¹

**åŸå› **ï¼š
- å…§å®¹ç”Ÿæˆå¤±æ•—
- ç…§ç‰‡æœå°‹å¤±æ•—

**è§£æ±º**ï¼š
1. æª¢æŸ¥å¾Œç«¯æ—¥èªŒ
2. ç¢ºèª AI æœå‹™é…ç½®æ­£ç¢º
3. ç¢ºèªåœ–ç‰‡æœå‹™ API Key è¨­å®š

---

**æœ€å¾Œæ›´æ–°**: 2025-12-30

