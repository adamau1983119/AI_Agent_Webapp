# 專案設計要求

## 📋 核心設計原則

### 一、響應式設計（強制要求）

**所有版面設定必須確保在手機和平板上使用 Webapp 也能清楚顯示。**

#### 1.1 響應式斷點

所有組件必須支援以下斷點：

- **xs (375px)**: 小手機
- **sm (640px)**: 大手機
- **md (768px)**: 平板（豎屏）
- **lg (1024px)**: 平板（橫屏）/ 桌面
- **xl (1280px)**: 大桌面
- **2xl (1536px)**: 超大桌面

#### 1.2 觸控友善設計

- **最小觸控目標**: 44×44px（iOS）或 48×48px（Android）
- **按鈕間距**: 至少 8px
- **文字大小**: 
  - 手機：最小 14px
  - 平板：15-16px
  - 桌面：16px
- **安全區域**: 必須考慮 iPhone 的劉海和底部指示器（使用 `safe-area-inset`）

#### 1.3 版面佈局要求

**主題列表頁**:
- 手機（<768px）: 1欄，篩選器可摺疊
- 平板（768px-1023px）: 2欄
- 桌面（≥1024px）: 3欄

**主題詳情頁**:
- 手機（<768px）: 垂直堆疊（照片輪播 → 內容 → 資訊）
- 平板（768px-1023px）: 2欄（照片+內容，下方資訊）
- 桌面（≥1024px）: 3欄（照片 | 內容 | 資訊）

**互動按鈕**:
- 手機（<768px）: 固定底部欄，大觸控按鈕（60×60px）
- 平板/桌面（≥768px）: 水平排列

#### 1.4 必須實施的技術要求

1. **防止 iOS 自動縮放**: 所有輸入框字體必須設為 16px
2. **安全區域支持**: 使用 `safe-area-inset` CSS 變數
3. **觸控優化**: 使用 `touch-action: manipulation`
4. **滾動優化**: 使用 `-webkit-overflow-scrolling: touch`
5. **響應式網格**: 使用 Tailwind 的響應式類別（`grid-cols-1 md:grid-cols-2 lg:grid-cols-3`）

---

### 二、用戶體驗要求

#### 2.1 互動功能

所有頁面必須包含：
- ✅ Like/Dislike 按鈕
- ✅ 編輯功能
- ✅ 照片替換功能
- ✅ 即時反饋提示

#### 2.2 引導機制

- ✅ 冷啟動問卷（可選，3-5題，30秒）
- ✅ 首次使用引導
- ✅ 操作提示（Tooltip）
- ✅ 幫助中心

#### 2.3 視覺化要求

- ✅ 狀態標識（待審核/已確認/Fallback）
- ✅ 匹配度顯示（進度條 + 百分比）
- ✅ 來源可信度標示（星級評分）

---

### 三、錯誤處理要求

#### 3.1 友善錯誤提示

- ✅ 友善的錯誤訊息（非技術性）
- ✅ 解決建議
- ✅ 重試按鈕

#### 3.2 載入狀態

- ✅ 進度指示
- ✅ 預期時間顯示
- ✅ 載入動畫

---

### 四、性能要求

#### 4.1 載入優化

- ✅ 圖片懶加載
- ✅ 虛擬滾動（長列表）
- ✅ 代碼分割

#### 4.2 觸控響應

- ✅ 按鈕點擊響應時間 < 100ms
- ✅ 滑動流暢（60fps）
- ✅ 無卡頓現象

---

### 五、可訪問性要求

#### 5.1 無障礙設計

- ✅ 鍵盤導航支援
- ✅ ARIA 標籤
- ✅ 顏色對比度符合 WCAG AA 標準
- ✅ 螢幕閱讀器支援

#### 5.2 多語言支援

- ✅ 繁體中文（主要）
- ✅ 響應式字體大小
- ✅ 文字不溢出容器

---

### 六、測試要求

#### 6.1 響應式測試

所有新功能必須在以下設備測試：

**手機測試（375px - 767px）**:
- ✅ 所有按鈕至少 44×44px
- ✅ 文字大小至少 14px
- ✅ 照片可滑動查看
- ✅ 互動按鈕固定在底部
- ✅ 表單輸入不會自動縮放
- ✅ 安全區域正確顯示
- ✅ 橫屏模式正常顯示

**平板測試（768px - 1023px）**:
- ✅ 2欄網格佈局
- ✅ 照片網格顯示
- ✅ 互動按鈕水平排列
- ✅ 文字大小 15-16px
- ✅ 觸控目標足夠大

**桌面測試（≥1024px）**:
- ✅ 3欄網格佈局
- ✅ 完整功能顯示
- ✅ 懸停效果正常
- ✅ 鍵盤導航支援

#### 6.2 瀏覽器測試

必須測試以下瀏覽器：
- ✅ Chrome（桌面 + 移動端）
- ✅ Safari（桌面 + iOS）
- ✅ Firefox（桌面 + 移動端）
- ✅ Edge（桌面）

---

### 七、代碼規範

#### 7.1 響應式類別使用

**必須使用 Tailwind 響應式前綴**:
```tsx
// ✅ 正確
<div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
<div className="text-sm sm:text-base lg:text-lg">
<button className="w-full sm:w-auto px-4 py-2">

// ❌ 錯誤（固定寬度）
<div className="w-1024">
<div className="text-14">
```

#### 7.2 觸控優化類別

**必須使用觸控優化類別**:
```tsx
// ✅ 正確
<button className="touch-manipulation min-w-[44px] min-h-[44px]">
<input className="text-base"> {/* 防止 iOS 縮放 */}

// ❌ 錯誤
<button className="w-8 h-8"> {/* 觸控目標太小 */}
<input className="text-sm"> {/* iOS 會自動縮放 */}
```

#### 7.3 安全區域類別

**必須使用安全區域類別**:
```tsx
// ✅ 正確
<div className="safe-area-top safe-area-bottom">
<header className="pt-safe-top">
<footer className="pb-safe-bottom">

// ❌ 錯誤
<div className="pt-4 pb-4"> {/* 未考慮安全區域 */}
```

---

### 八、設計檢查清單

在提交任何新功能或修改前，必須檢查：

#### 8.1 響應式檢查
- [ ] 手機版（375px）顯示正常
- [ ] 平板版（768px）顯示正常
- [ ] 桌面版（1024px+）顯示正常
- [ ] 橫屏模式正常
- [ ] 所有文字清晰可讀

#### 8.2 觸控檢查
- [ ] 所有按鈕至少 44×44px
- [ ] 按鈕間距足夠（至少 8px）
- [ ] 滑動操作流暢
- [ ] 點擊無延遲

#### 8.3 功能檢查
- [ ] 所有互動功能在移動端可用
- [ ] 表單輸入正常（無自動縮放）
- [ ] 照片可正常查看（輪播或網格）
- [ ] 錯誤提示友善

#### 8.4 性能檢查
- [ ] 載入速度 < 3秒
- [ ] 滑動流暢（60fps）
- [ ] 無卡頓現象
- [ ] 圖片優化（懶加載）

---

### 九、參考文檔

1. **移動端響應式設計方案.md** - 完整的移動端設計指南
2. **用戶友善介面設計方案.md** - 用戶體驗設計指南
3. **AI_Agents_API架構表與生產內容設定.md** - 系統架構文檔

---

### 十、違規處理

**任何不符合響應式設計要求的代碼將被拒絕合併。**

必須修正後重新提交。

---

**文件版本**: v1.0  
**最後更新**: 2025-12-30  
**適用範圍**: 所有前端開發工作  
**強制執行**: 是

