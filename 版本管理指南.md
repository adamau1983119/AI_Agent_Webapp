# 版本管理指南

> **目的**：確保版本管理清晰，避免混亂  
> **創建日期**：2026-01-06  
> **適用版本**：所有版本

---

## 📋 版本管理原則

### 1. 版本號規則

遵循 [Semantic Versioning](https://semver.org/)：

- **MAJOR.MINOR.PATCH** (例如：1.0.0)
- **MAJOR**：重大變更、不向後兼容
- **MINOR**：新功能、向後兼容
- **PATCH**：錯誤修復、向後兼容

### 2. 版本記錄原則

- ✅ 每個版本都必須有獨立的記錄文檔
- ✅ 所有變更都必須詳細記錄
- ✅ 版本對比表必須清晰
- ✅ 關鍵代碼變更必須記錄

---

## 📁 版本記錄文件結構

### 當前版本記錄

```
專案根目錄/
├── 版本更新記錄_v2.0.0.md          # 版本 2.0.0 更新記錄
├── 版本2.0.0_完整變更記錄.md        # 版本 2.0.0 完整變更記錄
├── 版本管理指南.md                  # 本文件
└── 功能開發記錄表.md                # 功能開發歷史
```

### 版本記錄文件命名規則

- `版本更新記錄_v{版本號}.md` - 版本更新記錄
- `版本{版本號}_完整變更記錄.md` - 完整變更記錄

---

## 🔄 版本變更流程

### 步驟 1：準備版本更新

1. **確認變更內容**
   - 列出所有變更的文件
   - 確認變更類型（MAJOR/MINOR/PATCH）
   - 評估影響範圍

2. **創建版本記錄文檔**
   - 創建 `版本更新記錄_v{版本號}.md`
   - 創建 `版本{版本號}_完整變更記錄.md`
   - 記錄所有變更

### 步驟 2：更新版本號

更新以下文件：
- `backend/app/config.py`: `APP_VERSION`
- `backend/app/__init__.py`: `__version__`
- `frontend/package.json`: `version`
- `README.md`: 版本號和最後更新日期

### 步驟 3：提交和標記

1. **提交變更**
   ```bash
   git add .
   git commit -m "chore: Update version to {版本號}"
   ```

2. **創建 Git 標籤**（可選）
   ```bash
   git tag -a v{版本號} -m "Version {版本號}: {描述}"
   git push origin v{版本號}
   ```

### 步驟 4：更新文檔

1. **更新 `功能開發記錄表.md`**
   - 添加新版本記錄
   - 更新版本歷史

2. **更新 `README.md`**
   - 更新版本號
   - 更新最後更新日期

---

## 📝 版本記錄模板

### 版本更新記錄模板

```markdown
# 版本更新記錄 - v{版本號}

## 🎉 Version {版本號} 發布

**發布日期**：YYYY-MM-DD  
**版本類型**：Major/Minor/Patch Release

---

## 📋 版本更新原因

### 為什麼是 {版本號}？

- 變更原因 1
- 變更原因 2
- 變更原因 3

---

## 🚀 主要更新內容

### 1. 功能/修復名稱 ✅

**變更**：
- 變更描述

**影響**：
- 影響描述

**相關文件**：
- 文件路徑

---

## 📊 版本對比

| 項目 | v{舊版本} | v{新版本} |
|------|----------|----------|
| 項目1 | 舊狀態 | 新狀態 |

---

## 🔄 遷移指南

### 從 v{舊版本} 升級到 v{新版本}

#### 1. 環境變數更新
- 變更內容

#### 2. 代碼變更
- 變更內容

#### 3. 部署步驟
- 步驟說明

---

**版本**：{版本號}  
**發布日期**：YYYY-MM-DD  
**維護者**：開發團隊  
**狀態**：✅ 已發布
```

---

## 🎯 當前版本狀態

### Version 1.0.0（當前）

- **狀態**：✅ 當前版本
- **發布日期**：2025-12-29
- **最後更新**：2025-12-29

### Version 2.0.0（已保存）

- **狀態**：✅ 已完整記錄
- **創建日期**：2026-01-06
- **記錄文件**：
  - `版本更新記錄_v2.0.0.md`
  - `版本2.0.0_完整變更記錄.md`

---

## ⚠️ 重要提醒

### 避免混亂的措施

1. **獨立版本記錄**
   - 每個版本都有獨立的記錄文檔
   - 所有變更都詳細記錄

2. **清晰的版本對比**
   - 版本對比表清晰
   - 變更內容明確

3. **完整的代碼變更記錄**
   - 所有修改的文件都記錄
   - 關鍵代碼變更都說明

4. **版本號管理**
   - 版本號統一管理
   - 所有相關文件同步更新

---

## 📚 相關文檔

- `版本更新記錄_v2.0.0.md` - 版本 2.0.0 更新記錄
- `版本2.0.0_完整變更記錄.md` - 版本 2.0.0 完整變更記錄
- `功能開發記錄表.md` - 功能開發歷史
- `2026-01-06_工作記錄.md` - 詳細工作記錄

---

**創建日期**：2026-01-06  
**維護者**：開發團隊  
**目的**：確保版本管理清晰，避免混亂

